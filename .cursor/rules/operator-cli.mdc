---
description: Operator CLI interface design and command patterns
globs: **/*cli*.rs,**/*main.rs
alwaysApply: false
---

# Operator CLI Standards

**Canonical Source**: `.beads/operator-cli.bead`

The complete CLI command specifications, forbidden commands, security constraints, and implementation patterns are defined in the operator-cli bead. Read that file for complete specifications.

## Design Principle

**CLI is for SERVICE MANAGEMENT ONLY** - not trust operations.

## Available Commands

| Command | Purpose |
|---------|---------|
| `link-device` | Link to Signal account as secondary device (first step) |
| `run` | Run bot service (awaits member-initiated bootstrap if new) |
| `status` | Show health status |
| `verify` | Validate configuration |
| `backup-store` | Export Signal store |
| `version` | Show version |

**Note**: Bootstrap is member-initiated via Signal (`/create-group`, `/add-seed`), not operator CLI.

## Forbidden Commands (NEVER Implement)

- ❌ `create-group`, `add-seed`, `bootstrap --seed-members` - member-initiated only
- ❌ `add-member`, `remove-member` - membership is automatic
- ❌ `vouch`, `flag` - only via Signal bot
- ❌ `set-config` - requires group vote
- ❌ `federate-with` - requires group vote

**Why**: Operator is service runner, not privileged admin.

## Security Rules

- Never accept trust operations from CLI
- Never show cleartext Signal IDs (hashes only)
- Signal store backup is critical - warn prominently
