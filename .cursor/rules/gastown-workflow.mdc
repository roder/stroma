---
description: Gastown-specific workflow patterns and agent coordination
alwaysApply: true
---

# Gastown Workflow Standards

**Canonical Source**: `.beads/gastown-workflow.bead`

Agent organization, implementation roadmap, safety precautions, and quality gates for Gastown development are defined in the gastown-workflow bead. Read that file for complete specifications.

## Agent Roles

| Agent | Responsibility |
|-------|----------------|
| Mayor | Architecture, security auditing |
| Agent-Signal | libsignal-service-rs, group management |
| Agent-Freenet | Wasm contracts, ComposableState |
| Agent-Crypto | STARK circuits, HMAC masking |
| Witness | Audit for Signal ID leaks |

## Spike Week Summary (ALL COMPLETE)

### Spike Week 1 (Q1-Q6): Freenet/STARK Validation

| Q | Status | Finding |
|---|--------|---------|
| Q1 | GO | Set-based state with ejected set |
| Q2 | GO | Contract can enforce invariants |
| Q3 | GO | Bridge Removal algorithm |
| Q4 | PARTIAL | Bot-side STARK verification |
| Q5 | GO | On-demand Merkle (0.09ms at 1000) |
| Q6 | COMPLETE | Store outcomes only |

### Spike Week 2 (Q7-Q14): Persistence Validation

| Q | Status | Finding |
|---|--------|---------|
| Q7 | GO | Registry-based discovery (<1ms) |
| Q8 | GO | PoW difficulty 18 (~30s) |
| Q9 | GO | Challenge-response verification |
| Q11 | GO | Rendezvous hashing (deterministic) |
| Q12 | GO | 64KB chunks optimal |
| Q13 | GO | 1% spot checks (100% detection) |
| Q14 | GO | Contract-based distribution Phase 0 |

## Quality Gates

Before agent completion: security verified, no unsafe blocks, no cleartext IDs, Freenet state verification maintained.
