{"id":"hq-9h0","title":"Q5: Merkle Tree Performance Spike","description":"## Question\nHow fast is on-demand Merkle Tree generation from BTreeSet?\n\n## Why This Matters\nStroma stores members in BTreeSet but needs Merkle proofs for ZK verification.\nIf generation is slow (\u003e500ms), we need caching strategy.\n\n## Test Scenario\n```rust\nlet members: BTreeSet\u003cHash\u003e = (0..N).map(|i| hash(i)).collect();\nlet start = Instant::now();\nlet root = generate_merkle_root(\u0026members);\nprintln!(\"Time: {:?}\", start.elapsed());\n```\n\n## Decision Criteria\n- \u003c 100ms for 1000 members → GO: Generate on demand\n- 100-500ms → PARTIAL: Cache in bot, invalidate on change\n- \u003e 500ms → NO-GO: Optimize or cache in contract\n\n## Fallback Strategy\nCache Merkle root in bot, invalidate on membership changes.\n\n## Implementation Tasks\n1. Create docs/spike/q5/merkle.rs with Merkle Tree implementation\n2. Create docs/spike/q5/main.rs benchmark (10, 100, 500, 1000, 5000 members)\n3. Create docs/spike/q5/README.md and RESULTS.md\n4. Add [[bin]] spike-q5 to Cargo.toml\n\n## External Documentation\n- Merkle Trees: https://en.wikipedia.org/wiki/Merkle_tree\n- ring crate (hashing): https://docs.rs/ring/latest/ring/\n- sha2 crate: https://docs.rs/sha2/latest/sha2/\n\n## Project Documentation (MUST READ)\n- .cursor/rules/tech-stack.mdc - ring for HMAC, cryptographic libraries\n- .cursor/rules/freenet-contract-design.mdc - On-demand Merkle generation pattern\n- docs/ALGORITHMS.md - Merkle proof generation for ZK verification\n- docs/spike/SPIKE-WEEK-BRIEFING.md - Q5 section\n\n## Benchmark Requirements\n- Multiple iterations for statistical significance\n- Test tree generation, proof generation, proof verification\n- Output timing table in RESULTS.md\n\n## Deliverables\n- docs/spike/q5/README.md\n- docs/spike/q5/merkle.rs\n- docs/spike/q5/main.rs\n- docs/spike/q5/RESULTS.md (performance table + decision)","status":"closed","priority":2,"issue_type":"task","owner":"33751+roder@users.noreply.github.com","created_at":"2026-01-30T15:25:49.058053-08:00","created_by":"roder","updated_at":"2026-01-30T15:46:55.129639-08:00","closed_at":"2026-01-30T15:46:55.129639-08:00","close_reason":"Closed"}
{"id":"hq-cv-3xcbc","title":"Spike Week Q3-Q6 Validation","description":"Convoy tracking 3 issues\nOwner: overseer","status":"open","priority":2,"issue_type":"convoy","owner":"33751+roder@users.noreply.github.com","created_at":"2026-01-30T15:30:15.307678-08:00","created_by":"roder","updated_at":"2026-01-30T15:30:15.307678-08:00","dependencies":[{"issue_id":"hq-cv-3xcbc","depends_on_id":"hq-uo6","type":"tracks","created_at":"2026-01-30T15:30:15.450808-08:00","created_by":"roder"},{"issue_id":"hq-cv-3xcbc","depends_on_id":"hq-9h0","type":"tracks","created_at":"2026-01-30T15:30:15.593746-08:00","created_by":"roder"},{"issue_id":"hq-cv-3xcbc","depends_on_id":"hq-iw5","type":"tracks","created_at":"2026-01-30T15:30:15.723098-08:00","created_by":"roder"}]}
{"id":"hq-deacon","title":"Deacon (daemon beacon) - receives mechanical heartbeats, runs town plugins and monitoring.","description":"Deacon (daemon beacon) - receives mechanical heartbeats, runs town plugins and monitoring.\n\nrole_type: deacon\nrig: null\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"33751+roder@users.noreply.github.com","created_at":"2026-01-26T10:55:57.399403-08:00","created_by":"roder","updated_at":"2026-01-26T10:55:57.399403-08:00","labels":["gt:agent"]}
{"id":"hq-iw5","title":"Q4+Q6: STARK Wasm and Proof Storage Spike","description":"## Question (Q4)\nCan winterfell compile to Wasm and verify proofs performantly?\n\n## Why This Matters\nDetermines if Freenet contract can verify ZK proofs (trustless) or if bot must verify (less trustless).\nQ6 (proof storage) depends entirely on Q4 answer.\n\n## Q4 Test Plan\n1. Compile winterfell verifier to wasm32-unknown-unknown\n2. If compiles: measure verification time for 10KB proof\n3. Document compilation issues if any\n\n## Q4 Decision Criteria\n- Compiles + \u003c 500ms verify → GO: Contract-side verification\n- Compiles + \u003e 500ms verify → PARTIAL: Client-side for now\n- Does not compile → NO-GO: Client-side only\n\n## Q6 Decision Matrix (Based on Q4)\n| Q4 Result | Q6 Decision | Rationale |\n|-----------|-------------|-----------|\n| Contract verifies | Don't store proofs | Contract verifies on demand |\n| Client verifies | Store outcomes only | Bot verifies, contract trusts |\n| Partial (slow) | Store proofs temporarily | Verify once, then delete |\n\n## Fallback Strategy\nBot verifies proofs before Freenet submission. Less trustless but functional.\n\n## Implementation Tasks\n1. Create docs/spike/q4/verifier.rs - Minimal STARK verifier using winterfell\n2. Create docs/spike/q4/main.rs - Generate proof, verify, attempt Wasm compile\n3. Create docs/spike/q4/README.md and RESULTS.md\n4. Create docs/spike/q6/README.md and RESULTS.md (decision based on Q4)\n5. Add [[bin]] spike-q4 to Cargo.toml\n\n## External Documentation\n- winterfell crate: https://docs.rs/winterfell/latest/winterfell/\n- winterfell GitHub: https://github.com/facebook/winterfell\n- STARK Proofs: https://starkware.co/stark/\n- Wasm target: https://rustwasm.github.io/docs/book/\n- wasm32-unknown-unknown: https://doc.rust-lang.org/rustc/platform-support/wasm32-unknown-unknown.html\n\n## Project Documentation (MUST READ)\n- .cursor/rules/tech-stack.mdc - arkworks/winterfell for ZK-proofs\n- .cursor/rules/freenet-contract-design.mdc - STARK verification in contracts\n- .cursor/rules/cryptography-zk.mdc - ZK proof requirements\n- docs/spike/SPIKE-WEEK-BRIEFING.md - Q4 and Q6 sections\n\n## Wasm Compilation Test\n```bash\ncargo build --target wasm32-unknown-unknown --release -p spike-q4\n```\n\n## Deliverables\nQ4:\n- docs/spike/q4/README.md\n- docs/spike/q4/verifier.rs\n- docs/spike/q4/main.rs\n- docs/spike/q4/RESULTS.md (compilation + performance)\n\nQ6:\n- docs/spike/q6/README.md\n- docs/spike/q6/RESULTS.md (decision based on Q4)","status":"closed","priority":2,"issue_type":"task","owner":"33751+roder@users.noreply.github.com","created_at":"2026-01-30T15:26:06.745125-08:00","created_by":"roder","updated_at":"2026-01-30T15:46:55.156076-08:00","closed_at":"2026-01-30T15:46:55.156076-08:00","close_reason":"Closed"}
{"id":"hq-mayor","title":"Mayor - global coordinator, handles cross-rig communication and escalations.","description":"Mayor - global coordinator, handles cross-rig communication and escalations.\n\nrole_type: mayor\nrig: null\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"33751+roder@users.noreply.github.com","created_at":"2026-01-26T10:55:57.280372-08:00","created_by":"roder","updated_at":"2026-01-26T10:55:57.280372-08:00","labels":["gt:agent"]}
{"id":"hq-uo6","title":"Q3: Cluster Detection Spike","description":"## Question\nDoes Union-Find distinguish tight clusters connected by bridges?\n\n## Why This Matters\nCross-cluster vouching is MANDATORY for admission. Same-cluster vouches are rejected.\nIf cluster detection fails, the admission system breaks.\n\n## The Bridge Problem (Test Scenario)\nCluster A (tight):  Alice, Bob, Carol (all vouch each other)\nBridge:             Charlie (vouched by Carol + Dave)\nCluster B (tight):  Dave, Eve, Frank (all vouch each other)\n\nUnion-Find result: 1 cluster (all connected)\nExpected: 2 clusters (A and B are distinct)\n\n## Decision Criteria\n- 2 clusters detected → GO: Use Union-Find variant\n- 1 cluster detected → NO-GO: Use fallback proxy rule\n\n## Fallback Strategy\n\"Vouchers must not have vouched for each other directly\"\n- Simpler implementation, blocks obvious same-cluster vouching\n- Trade-off: May reject some valid edge cases\n\n## Implementation Tasks\n1. Create docs/spike/q3/cluster.rs with Union-Find + alternatives\n2. Create docs/spike/q3/main.rs test runner (7-member bridge scenario)\n3. Create docs/spike/q3/README.md and RESULTS.md\n4. Add [[bin]] spike-q3 to Cargo.toml\n\n## External Documentation\n- Union-Find Algorithm: https://en.wikipedia.org/wiki/Disjoint-set_data_structure\n- Community Detection: https://en.wikipedia.org/wiki/Community_structure\n- Louvain Algorithm: https://en.wikipedia.org/wiki/Louvain_method\n\n## Project Documentation (MUST READ)\n- docs/ALGORITHMS.md - Graph theory foundations, cluster detection algorithm\n- .cursor/rules/cluster-terminology.mdc - Internal vs external clusters\n- .cursor/rules/security-guardrails.mdc - Cross-cluster vouching violations\n- .beads/cross-cluster-requirement.bead - Full threat model\n- docs/spike/SPIKE-WEEK-BRIEFING.md - Q3 section\n\n## Deliverables\n- docs/spike/q3/README.md\n- docs/spike/q3/cluster.rs\n- docs/spike/q3/main.rs\n- docs/spike/q3/RESULTS.md (GO/NO-GO decision)","status":"closed","priority":2,"issue_type":"task","owner":"33751+roder@users.noreply.github.com","created_at":"2026-01-30T15:25:34.012156-08:00","created_by":"roder","updated_at":"2026-01-30T15:46:55.101314-08:00","closed_at":"2026-01-30T15:46:55.101314-08:00","close_reason":"Closed"}
